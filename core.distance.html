<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Distance matrices (skbio.core.distance) &mdash; scikit-bio 0.0.0-dev documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.1.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.0-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="scikit-bio 0.0.0-dev documentation" href="index.html" />
    <link rel="next" title="skbio.core.distance.DistanceMatrix" href="generated/skbio.core.distance.DistanceMatrix.html" />
    <link rel="prev" title="skbio.core.sequence.RNASequence.unsupported_characters" href="generated/skbio.core.sequence.RNASequence.unsupported_characters.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
  
  <a href="https://github.com/biocore/scikit-bio"
     class="visible-desktop hidden-xs"><img
    id="gh-banner"
    style="position: absolute; top: 50px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>
  <script>
    // Adjust banner height.
    $(function () {
      var navHeight = $(".navbar .container").css("height");
      $("#gh-banner").css("top", navHeight);
    });
  </script>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          scikit-bio docs</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.0-dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core.sequence.html">Biological sequences (<tt class="docutils literal"><span class="pre">skbio.core.sequence</span></tt>)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Distance matrices (<tt class="docutils literal"><span class="pre">skbio.core.distance</span></tt>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.exception.html">Exceptions (<tt class="docutils literal"><span class="pre">skbio.core.exception</span></tt>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="draw.distributions.html">Distribution visualizations (<tt class="docutils literal"><span class="pre">skbio.draw.distributions</span></tt>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="maths.stats.spatial.html">Spatial Statistics (<tt class="docutils literal"><span class="pre">skbio.maths.stats.spatial</span></tt>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.misc.html">Miscellaneous Utilities (<tt class="docutils literal"><span class="pre">skbio.util.misc</span></tt>)</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Distance matrices (<tt class="docutils literal"><span class="pre">skbio.core.distance</span></tt>)</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <span class="target" id="module-skbio.core.distance"></span><div class="section" id="distance-matrices-skbio-core-distance">
<h1>Distance matrices (<a class="reference internal" href="#module-skbio.core.distance" title="skbio.core.distance"><tt class="xref py py-mod docutils literal"><span class="pre">skbio.core.distance</span></tt></a>)<a class="headerlink" href="#distance-matrices-skbio-core-distance" title="Permalink to this headline">¶</a></h1>
<p>This module provides functionality for serializing, deserializing, and
manipulating distance matrices in memory. There are multiple distance matrix
classes available, where the appropriate class to use depends on the nature of
the distances you wish to store.</p>
<p>A distance matrix includes both a matrix of distances (floats) between objects,
as well as IDs (object labels; strings) identifying each object in the matrix.</p>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/skbio.core.distance.DistanceMatrix.html#skbio.core.distance.DistanceMatrix" title="skbio.core.distance.DistanceMatrix"><tt class="xref py py-obj docutils literal"><span class="pre">DistanceMatrix</span></tt></a>(data,&nbsp;ids)</td>
<td>Store distances between objects and object IDs.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/skbio.core.distance.SymmetricDistanceMatrix.html#skbio.core.distance.SymmetricDistanceMatrix" title="skbio.core.distance.SymmetricDistanceMatrix"><tt class="xref py py-obj docutils literal"><span class="pre">SymmetricDistanceMatrix</span></tt></a>(data,&nbsp;ids)</td>
<td>Store symmetric distance data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/skbio.core.distance.randdm.html#skbio.core.distance.randdm" title="skbio.core.distance.randdm"><tt class="xref py py-obj docutils literal"><span class="pre">randdm</span></tt></a>(num_objects[,&nbsp;ids,&nbsp;constructor,&nbsp;...])</td>
<td>Generate a distance matrix populated with random distances.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Assume we have the following delimited text file:</p>
<div class="highlight-python"><div class="highlight"><pre>\ta\tb\tc
a\t0.0\t0.5\t1.0
b\t0.5\t0.0\t0.75
c\t1.0\t0.75\t0.0
</pre></div>
</div>
<p>Load a distance matrix from the file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skbio.core.distance</span> <span class="kn">import</span> <span class="n">DistanceMatrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dm_f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">a</span><span class="se">\t</span><span class="s">b</span><span class="se">\t</span><span class="s">c</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="gp">... </span>                <span class="s">&quot;a</span><span class="se">\t</span><span class="s">0.0</span><span class="se">\t</span><span class="s">0.5</span><span class="se">\t</span><span class="s">1.0</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="gp">... </span>                <span class="s">&quot;b</span><span class="se">\t</span><span class="s">0.5</span><span class="se">\t</span><span class="s">0.0</span><span class="se">\t</span><span class="s">0.75</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="gp">... </span>                <span class="s">&quot;c</span><span class="se">\t</span><span class="s">1.0</span><span class="se">\t</span><span class="s">0.75</span><span class="se">\t</span><span class="s">0.0</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span> <span class="o">=</span> <span class="n">DistanceMatrix</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">dm_f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">dm</span>
<span class="go">3x3 distance matrix</span>
<span class="go">IDs:</span>
<span class="go">a, b, c</span>
<span class="go">Data:</span>
<span class="go">[[ 0.    0.5   1.  ]</span>
<span class="go"> [ 0.5   0.    0.75]</span>
<span class="go"> [ 1.    0.75  0.  ]]</span>
</pre></div>
</div>
<p>Access the distance (scalar) between objects <tt class="docutils literal"><span class="pre">'a'</span></tt> and <tt class="docutils literal"><span class="pre">'c'</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>Get a row vector of distances between object <tt class="docutils literal"><span class="pre">'b'</span></tt> and all other objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">array([ 0.5 ,  0.  ,  0.75])</span>
</pre></div>
</div>
<p>numpy indexing/slicing also works as expected. Extract the third column:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">array([ 1.  ,  0.75,  0.  ])</span>
</pre></div>
</div>
<p>Serialize the distance matrix to delimited text file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out_f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">out_f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_f</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
<span class="go">&#39;\ta\tb\tc\na\t0.0\t0.5\t1.0\nb\t0.5\t0.0\t0.75\nc\t1.0\t0.75\t0.0\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_f</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span> <span class="o">==</span> <span class="n">dm_f</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014--, scikit-bio development team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>